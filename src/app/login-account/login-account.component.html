<!--
  ~ Copyright (c) 2018.  Andrew Newton
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="2%" class="login-account-container">
  <app-site-plague></app-site-plague>
  <mat-card >
    <mat-card-title-group>
      <mat-card-title>Account Details</mat-card-title>
    </mat-card-title-group>
    <mat-card-content>
      <p>Login ID: {{accountInfo.loginId}}</p>
      <p>Created: {{accountInfo.created | date:'medium'}}</p>
      <p *ngIf="lastSuccessfulLogin()">Last Login: {{lastSuccessfulLogin() | date:'medium'}}</p>
      <p *ngIf="lastFailedLogin()">Last Failed Login: {{lastFailedLogin() | date:'medium'}}</p>
      <mat-divider></mat-divider>
      <div>
        <mat-table [dataSource]="accountInfo.actors">

          <ng-container matColumnDef="pun">
            <mat-header-cell *matHeaderCellDef>Actor</mat-header-cell>
            <mat-cell *matCellDef="let element">{{element.pun}}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="owner">
            <mat-header-cell *matHeaderCellDef>Owner</mat-header-cell>
            <mat-cell *matCellDef="let element">{{element.owner}}</mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="actorColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: actorColumns"></mat-row>

        </mat-table>
      </div>
    </mat-card-content>
  </mat-card>
</div>
